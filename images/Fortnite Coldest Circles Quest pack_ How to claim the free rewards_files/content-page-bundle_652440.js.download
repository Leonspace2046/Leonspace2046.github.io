!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.KeedaComments=t():e.KeedaComments=t()}(this,(function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=new XMLHttpRequest;r.withCredentials=!!o.withCredentials,r.onreadystatechange=function(){if(4!==r.readyState)return!1;200===r.status?t(r.responseText):n(r.statusText)},r.open("GET",e,!0),r.send()}function i(e){if(0!==e){var t=new Error("AjaxGetFailure");console.log(t.stack),window.onerror(t,window.location.href)}else console.log("Connection lost")}function r(e,t,n){var o=new XMLHttpRequest;o.withCredentials=!0,o.onreadystatechange=function(){4===o.readyState&&(200===o.status?n(o.responseText):(console.log("Error",o.status,e),n("Server error")))},o.open("POST",e,!0),o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.send(t)}function a(){for(var e=document.querySelectorAll(".one-comment .timestamp"),t=0;t<e.length;t+=1){var n=e[t],o=n.attributes.timestamp.value.split("-").join("/")+" +0530";n.innerHTML=c(new Date,new Date(o))}}function c(e,t){var n=e-t;return n<6e4?Math.round(n/1e3)+" s":n<36e5?Math.round(n/6e4)+" m":n<864e5?Math.round(n/36e5)+" h":n<31536e6?Math.round(n/864e5)+" d":Math.round(n/31536e6)+" y"}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";!e||!t||!e instanceof HTMLElement||e.setAttribute(t,n)}function l(e){if(e)for(;e.firstChild;)e.removeChild(e.firstChild)}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e&&(e.innerText=t)}function d(e){var t;if(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];(t=e.classList).add.apply(t,o)}}function u(e){var t;if(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];(t=e.classList).remove.apply(t,o)}}var h,p;function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,r=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw r}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t);var b=new URLSearchParams(window.location.search),k="true"===b.get("from_amp"),w=b.get("h1")||"",S=b.get("comment-id"),T="https://statics.sportskeeda.com/wp-content/uploads/2014/02/sk_avatar-45x45.png",E=function(e){var t;try{t=window[e];var n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t&&0!==t.length}}("localStorage"),x="upvote",I="downvote",R=(C(h={},x,"https://static.sportskeeda.com/like-articles/after-upvoting-icon-grey.svg"),C(h,I,"https://static.sportskeeda.com/like-articles/after-downvoting-icon-grey.svg"),h),q=(C(p={},x,"https://static.sportskeeda.com/like-articles/upvote-icon-grey.svg"),C(p,I,"https://static.sportskeeda.com/like-articles/downvote-icon-grey.svg"),p),A={loggedIn:""!==getCookie("fw_ID"),id:getCookie("fw_ID"),profile_pic:decodeURIComponent(getCookie("fw_picture_large"))||T,username:decodeURIComponent(getCookie("fw_name"))},L=["awaiting_first_comment_moderation","awaiting_moderation"];function N(e){try{return JSON.parse(e)}catch(t){return e}}function B(e){var t="";for(var n in e)t+=n+"="+encodeURIComponent(e[n])+"&";return t.slice(0,t.length-1)}function M(e,t){var n;return function(){for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];var a=function(){return n=null,e.apply(this,i)};clearTimeout(n),n=setTimeout(a,t)}}window.location.hostname.includes("opera")&&document.querySelector(".betting-offer--disks")&&document.querySelector(".betting-offer--disks").classList.add("hidden"),window.setInterval((function(){a()}),5e3);var P=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(v(this,e),C(this,"_updateReactionDebounced",M((function(e,n,o,i,a,c){var s=t;s._trackCommentActivityV2(n,e),r("https://gotham.sportskeeda.com/comments/react/"+e,B({react:n,page_type:s.config.pageType,commenter:i,articlePath:a,articleTitle:c}),(function(e){s._onReactionUpdateSuccess(e,o)}))}),500)),C(this,"_updateReactionNonAuthDebounced",M((function(e,n,o,i,a){var c=t._getNonAuthReactionFromLS(e)||"",s=t;r("https://gotham.sportskeeda.com/comments/react/"+e+"/guest",B({react:n,existingReact:c,page_type:t.config.pageType,commenter:o,articlePath:i,title:a}),(function(t){s._removeNonAuthReactionToLS(e);var o=N(t);"object"===y(o)&&o.success&&(n!==c&&s._setNonAuthReactionToLS(e,n),s._trackCommentActivityV2(n,e))}))}),500)),C(this,"_searchGif",M((function(e){var n=e.target.value;t._makeCallToTenorAPI(!1,t._gifInitiator,n)}),1e3)),this.config=Object.assign({},n),this.sort=this.config.sort||"popular",this.elementIsHighlighted=!1,this.initialEventListenersAdded=!1,this.textAreaForDecode=document.createElement("textarea"),this.commentBox=null,this.sendButton=null,this.sortSelect=null,this.selectedCommentIdForReply=null,this.commentTagLength=0,this.commentReactLsKey="comment_react_noauth_","post"!==n.pageType&&(this.commentReactLsKey="comment_react_noauth_"+n.pageType+"__"),!this.config.articleLink)if(k){var o=new URLSearchParams(window.location.search);this.config.articleTitle=decodeURIComponent(o.get("h1")),this.config.articleLink=o.get("redirect")}else this.config.articleLink=window.location.origin+window.location.pathname+window.location.search;n.commentsContainer&&(this.commentsContainer=n.commentsContainer,this.commentsRenderContainer=this.commentsContainer.querySelector(".comments-container"),this.commentInputContainer=this.commentsContainer.querySelector(".comments-input-holder"),this.primaryResponseTextContainer=this.commentsContainer.querySelector(".comment-add-response-text"),this.loginOAuthContainer=this.commentsContainer.querySelector(".comment-login-auth"),this.viewMoreContainer=this.commentsContainer.querySelector(".view-more-container"),this.authButtons=this.commentsContainer.querySelectorAll(".oauth-button.auto-fill"),this.replyTagContainer=this.commentsContainer.querySelector(".reply-tag-container"),this._init())}var t,n,i;return t=e,(n=[{key:"_init",value:function(){this._renderCommentInput(),this._setWindowListeners(),d(this.replyTagContainer,"hidden")}},{key:"fetchCommentsAndRender",value:function(){if(this.config.id&&this.commentsContainer){l(this.commentsRenderContainer);var e=this._getQueryParamsFromConfig(),t="/comments/"+this.config.pageType+"/"+encodeURIComponent(this.config.id),n="https://comments-system.sportskeeda.com"+t+"/ajax?"+e;A.loggedIn&&(n="https://a-comments.sportskeeda.com"+t+"?new_format=true&"+e);var i=document.getElementById("comments-placeholder-template");i?this.commentsRenderContainer.appendChild(i.content.cloneNode(!0)):this.commentsRenderContainer.innerHTML="<div class='comments-loading-info'>Loading Comments</div>",o(n,this._renderComments.bind(this),this._onCommentFetchFailure.bind(this),{withCredentials:!0})}}},{key:"_renderCommentInput",value:function(){if(this.commentInputContainer){if(!this.commentInputContainer.hasChildNodes()){var e=document.getElementById("comments-input-template").content.cloneNode(!0);s(e.querySelector("#pic-near-comment-box"),"src",A.profile_pic||T),this.commentInputContainer.appendChild(e)}this.commentBox=this.commentsContainer.querySelector(".post-comment-box"),this.sendButton=this.commentsContainer.querySelector(".post-comment-button"),this.sortSelect=this.commentsContainer.querySelector(".comments-sort-select"),this._initializeEvents()}}},{key:"_getQueryParamsFromConfig",value:function(){var e=[];return this.sort&&e.push("sort_by="+encodeURIComponent(this.sort)),this.config.wpId&&e.push("wp_id="+encodeURIComponent(this.config.wpId)),e.push("ts="+Date.now()),e.push("include_user_pending_comment=true"),e.join("&")}},{key:"_onCommentFetchFailure",value:function(){this.commentsRenderContainer.innerHTML="<div class='comments-loading-error'><span>An error occured while loading comments. Please try again</span><button class='comments-retry-button'>Retry</button></div>",k&&this._sendAMPIframeExpandEvent()}},{key:"_onRetryClick",value:function(){this._trackCommentActivityV2("click","retry"),this.fetchCommentsAndRender()}},{key:"_renderComments",value:function(e){var t=N(e);if("object"===y(t)&&t.comments)if(l(this.commentsRenderContainer),this._updateCommentsCount(t.count_data),t.comments.length<1&&this.config.popup){var n=document.getElementById("comments-empty-template");if(!n)return;this.commentsRenderContainer.appendChild(n.content.cloneNode(!0))}else{for(var o in t.comments){var i=this._getCommentHtmlNode(t.comments[o],!this.config.popup);i&&(this.commentsRenderContainer.appendChild(i),1!=o||k||this.config.popup||(this.commentsRenderContainer.style.height=this.commentsRenderContainer.clientHeight+"px"))}"undefined"!=typeof lazyLoadImages&&lazyLoadImages(),this._toggleViewMoreButton(this.commentsRenderContainer),a();var r=this;k?(this._sendAMPIframeExpandEvent(),this._modifyLinkTargets(),window.addEventListener("resize",(function(){r._highlightComment(S)}))):setTimeout((function(){r._highlightComment(S)}),800),t.hasOwnProperty("total_reactions")&&t.hasOwnProperty("has_user_reacted")&&"undefined"!=typeof updateLikesCountOnUI&&t.hasOwnProperty("reaction")&&updateLikesCountOnUI(t);var c=window.location.href.split("#")[1];if(c){this._expandCommentsContainer();var s=document.getElementById(c);s&&setTimeout(s.scrollIntoView(),1e3)}}}},{key:"_getCommentHtmlNode",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e.ID)return!1;var n=this,o=document.getElementById("comment-template"),i=o.content.cloneNode(!0),r=i.querySelector(".commenter-link");s(r,"href","https://www.sportskeeda.com/profile/"+e.user_slug),s(r,"title",e.commenter);var a=i.querySelector(".commenter-img");a&&(k||!t?(s(a,"src",e.profile_pic||T),u(a,"lazy-img")):(s(a,"data-img",e.profile_pic||T),s(a,"data-img-low",e.profile_pic||T)));var c=i.querySelector(".name");s(c,"href","https://www.sportskeeda.com/profile/"+e.user_slug),m(c,e.commenter);var l=i.querySelector(".timestamp");s(l,"timestamp",e.comment_time),s(l,"title",new Date(e.comment_time).toUTCString());var h="";if(e.parent_comment){var p="https://www.sportskeeda.com/profile/"+e.parent_comment.commenter_slug;h='<a class="author-name" href="'.concat(p,'"><span class="dont-break">@').concat(e.parent_comment.commenter,"</span></a>")}else if(e.parent_comment_id){var f=this._findReplyTagInfoUsingCommentId(e.parent_comment_id);h='<a class="author-name" href="'.concat(f.link||"",'"><span class="dont-break">@').concat(f.name||"","</span></a>")}var g=i.querySelector(".one-comment-text"),y=this._decodeHTMLEntities(e.comment_text);if(g&&(g.innerHTML=h+y),""!=e.media_url&&null!=e.media_url){var v=document.createElement("img");v.src=e.media_url,d(v,"one-comment-media"),t&&v.setAttribute("loading","lazy"),g.insertAdjacentElement("afterend",v)}if(A.loggedIn&&e.commenter_id==A.id){u(i.querySelector(".edit-comment"),"hidden");var _=i.querySelector(".edit-comment-text");_&&(_.value=y)}var C=i.querySelector(".profile-status");m(C,e.profile_status||"");var b=i.querySelector(".controls");if(s(b,"commenter",e.commenter_id),b&&"active"===e.status){if(A.loggedIn&&A.id==e.commenter_id)m(b.querySelector(".delete-action-warning"),e.replies_count>0?"Deleting the main comment will delete all the replied comments below.\n This action can't be undone.":"This action can't be undone."),s(b.querySelector(".delete-comment-confirm"),"comment-id",e.ID),d(c,"highlighted"),C&&!e.profile_status&&m(C,"Visit profile to update status");else{var w=b.querySelector(".comment-top-right-ctrls");w&&b.removeChild(w);var S=b.querySelector(".comment-options");if(S&&b.removeChild(S),C&&!e.profile_status){C.remove();var E=i.querySelector(".profile-name-container");d(E,"no-status")}}var x=b.querySelectorAll(".vote"),I="";I=A.loggedIn?e.user_reaction||"":this._getNonAuthReactionFromLS(e.ID)||"";for(var q=0;q<x.length;q++){var N=x[q],B=N.getAttribute("data-vote")||"",M=0;"upvote"===B?M=e.upvotes_count:"downvote"===B&&(M=e.downvotes_count),I.length>0&&I===B&&M>0&&(s(N.firstElementChild,"src",R[I]),d(N,"selected")),m(N.lastElementChild,M>0?M.toString():"0"),N.addEventListener("click",(function(t){n._onReactionClick(t,e.ID)}))}}else if(b&&L.includes(e.status)){b.innerHTML="";var P=document.getElementById("comment-pending-template"),D=P.content.cloneNode(!0);b.appendChild(D)}var H=i.querySelector(".replies");for(var q in e.replies){var O=this._getCommentHtmlNode(e.replies[q],t);O&&H.appendChild(O)}var U=i.querySelector(".one-comment");return s(U,"comment-id",e.ID),s(U,"id",e.ID),e.parent_comment?U.setAttribute("reply-to",e.parent_comment.comment_id):e.parent_comment_id&&U.setAttribute("reply-to",e.parent_comment_id),i}},{key:"_updateCommentsCount",value:function(e){if(void 0!==e){sessionStorage.setItem("comment_count_".concat(this.config.id),e);var t=document.getElementsByClassName("comments-count"),n=document.getElementsByClassName("mobile-comment-text"),o=function(e){if(!e)return"";if(e<1e3)return String(e);var t=Math.round(e);return e>=1e3&&e<1e6?t=(Math.round(e)/1e3).toFixed(1)+"K":e>=1e6&&e<1e9?t=(Math.round(e)/1e6).toFixed(1)+"M":e>=1e9&&(t=(Math.round(e)/1e9).toFixed(1)+"B"),t}(e)||"";if(k||n.length>0)var i=0==e?"Be the first one to comment":o+" Comment"+(e<2?"":"s");else i=0==e?"":o+" Comment"+(e<2?"":"s");for(var r=0;r<t.length;r++)t[r].classList.contains("comment-text")?t[r].innerText=i:t[r].innerText=o;var a=document.getElementsByClassName("comments-total");if(k||n.length>0){for(r=0;r<a.length;r++)e<10?d(a[r],"align-center"):u(a[r],"align-center");var c=document.getElementsByClassName("comments-sort-container");for(r=0;r<c.length;r++)e<10?d(c[r],"hidden"):u(c[r],"hidden")}else for(r=0;r<a.length;r++)e<1?d(a[r],"hidden"):u(a[r],"hidden");var s=document.getElementById("post-comments-count-".concat(this.config.id)),l=document.getElementById("post-comments-count-parent-".concat(this.config.id)),m=document.getElementById("post-comments-seperator-".concat(this.config.id));s&&e>0?(s.innerText=i,l&&l.classList.remove("hidden"),m&&m.classList.remove("hidden")):s&&0==e&&(l&&l.classList.add("hidden"),m&&m.classList.add("hidden"))}}},{key:"_toggleViewMoreButton",value:function(e){this.viewMoreContainer&&e.scrollHeight>e.offsetHeight&&u(this.viewMoreContainer,"hidden")}},{key:"_highlightComment",value:function(e){if(e&&!this.elementIsHighlighted){this.elementIsHighlighted=!0;var t=document.getElementById(e);t&&(t.scrollIntoView({behavior:"smooth",block:"center"}),d(t,"highlight"))}}},{key:"_modifyLinkTargets",value:function(){for(var e=document.getElementsByTagName("a"),t=0;t<e.length;t++)s(e[t],"target","_blank")}},{key:"_sendAMPIframeExpandEvent",value:function(){window.parent.postMessage({sentinel:"amp",type:"embed-size",height:document.body.scrollHeight},"*")}},{key:"_initializeEvents",value:function(){var e=this;if(!this.initialEventListenersAdded){if(e.initialEventListenersAdded=!0,e.sendButton&&(e.sendButton.onclick=e._onSendButtonClick.bind(e),e.sendButton.onmousedown=function(e){e.preventDefault()}),e.commentBox&&("#feed-comments-container"!=window.location.hash||"#feed-comments-container"==window.location.hash&&"feed-comments-container"==e.commentsContainer.id)){var t=decodeURIComponent(getCookie("fw_comment")||"");e.commentBox.value=t,setTimeout((function(){unsetCookie("fw_comment"),(t.length>0||e.config.popup)&&e.commentBox.focus()}),500),e._keyPressInitialize()}e.sortSelect&&(e.sortSelect.onchange=function(t){e.sort=t.currentTarget.value,e.fetchCommentsAndRender(),e._trackCommentActivityV2("sort",filter)}),e._initializeLoginAuthEvents(),a()}}},{key:"_initializeLoginAuthEvents",value:function(){}},{key:"_keyPressInitialize",value:function(){var e=this;e.commentBox.onkeydown=function(t){if(13===t.which)return t.preventDefault(),e._onSendButtonClick(),!1;e.config.popup&&e._onReplyInputKeyDown(event,this,e.commentTagLength)}}},{key:"_onSendButtonClick",value:function(){if(A.loggedIn)return this._postComment(this.commentBox,this.primaryResponseTextContainer),!1;this._redirectToLogin()}},{key:"_redirectToLogin",value:function(){var e=window.location.origin+window.location.pathname+window.location.search;k&&(e=new URLSearchParams(window.location.search).get("redirect")),e+="#keeda-comments-container";var t="?after-login=".concat(encodeURIComponent(e),"&login-origin=comments_container");k?window.top.location="".concat("https://www.sportskeeda.com","/login").concat(t,"&comment-text=").concat(encodeURIComponent((this.commentBox.value||"").trim()),"&banner-text=").concat(encodeURIComponent("Login to join the conversation")):window.location="/login".concat(t,"&comment-text=").concat(encodeURIComponent((this.commentBox.value||"").trim()),"&banner-text=").concat(encodeURIComponent("Login to join the conversation"))}},{key:"_getNonAuthReactionFromLS",value:function(e){return E?window.localStorage.getItem(this.commentReactLsKey+e):null}},{key:"_setNonAuthReactionToLS",value:function(e,t){E&&window.localStorage.setItem(this.commentReactLsKey+e,t)}},{key:"_removeNonAuthReactionToLS",value:function(e){E&&window.localStorage.removeItem(this.commentReactLsKey+e)}},{key:"_getArticlePath",value:function(e){var t;return k?t=this.config.articleLink:document.getElementById("heading")?t=window.location.href.split("#")[0]:e.closest(".feed-comments-container")?t=e.closest(".feed-comments-container").querySelector(".comments-article-container").href.split("#")[0]:document.querySelector(".social-post-title")&&(t=window.location.href.split("#")[0]),t}},{key:"_getArticleTitle",value:function(e){var t;return k?t=this.config.articleTitle:document.getElementById("heading")?t=document.getElementById("heading").innerText||w:e.closest(".feed-comments-container")?t=e.closest(".feed-comments-container").querySelector(".comments-article-container").querySelector(".comments-article-title").innerText:document.querySelector(".social-post-title")&&(t=document.querySelector(".social-post-title").innerText),t}},{key:"_onReactionClick",value:function(e,t){var n=e.currentTarget,o=e.target.parentElement.parentElement.getAttribute("commenter"),i=this._getArticlePath(e.target)+"#"+t,r=this._getArticleTitle(e.target),a=n.getAttribute("data-vote");this._toggleReactionElements(n),A.loggedIn?this._updateReactionDebounced(t,a,n,o,i,r):this._updateReactionNonAuthDebounced(t,a,o,i,title)}},{key:"_decreaseReactionCount",value:function(e){if(e){var t=parseInt(e.lastElementChild.innerText)||0;e.lastElementChild.innerText=Math.max(t-1,0).toString()}}},{key:"_increaseReacionCount",value:function(e){if(e){var t=parseInt(e.lastElementChild.innerText)||0;e.lastElementChild.innerText=t+1}}},{key:"_toggleReactionElements",value:function(e){var t=e.parentNode.querySelector(".vote.selected");t&&(this._decreaseReactionCount(t),t.firstElementChild.src=q[t.getAttribute("data-vote")],u(t,"selected","animate"));var n=e.getAttribute("data-vote");t&&t.getAttribute("data-vote")===n||(this._increaseReacionCount(e),d(e,"selected","animate"),e.firstElementChild.src=R[n])}},{key:"_onReactionUpdateSuccess",value:function(e,t){var n=N(e);("string"==typeof n||"object"===y(n)&&n.error)&&t.classList.contains("selected")&&(this._decreaseReactionCount(t),t.firstElementChild.src=q[t.getAttribute("data-vote")],u(t,"selected","animate"))}},{key:"_postComment",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e){var o=e.value.trim().slice(Math.max(0,this.commentTagLength)),i=e.dataset.media_url;if(o.length<1&&""==i)return!1;var a="";""!==i&&(a=!0),e.disabled="disabled",this.sendButton.disabled="disabled";var c=this._getArticleTitle(e);if(gtag("event","comment added",{event_category:"NTG user",event_label:c,non_interaction:!1,gif_posted:a}),n)var s=e.getAttribute("parent-comment-id"),l=this._getArticlePath(e)+"#"+s;var m={comment:o,mediaUrl:i,post_id:this.config.id,page_type:this.config.pageType,include_pending:!0,articlePath:l,articleTitle:c};this.selectedCommentIdForReply&&n&&(m.parent_comment_id=this.selectedCommentIdForReply);var d=this;r("https://a-comments.sportskeeda.com/comments/new",B(m),(function(o){d._postCommentHook(o,e,t,n)}))}}},{key:"_subscribeUserToRepliesToComment",value:function(e){if(!(!1 in window)&&KeedaPushNotificationsManagerInstance)return KeedaPushNotificationsManagerInstance.onceReady().then((function(){return KeedaPushNotificationsManagerInstance.getToken()})).then((function(t){if(!t)throw new Error("PERMISSION_NOT_GRANTED");var n=KeedaPushNotificationsManagerInstance.generateTopic(KeedaPushNotificationsManagerInstance.ObjectType.Comment,e,KeedaPushNotificationsManagerInstance.Topic.CommentEngagement);return KeedaPushNotificationsManagerInstance.subscribeToTopics(t,[n])})).catch((function(e){String(e).includes("PERMISSION_NOT_GRANTED")||console.info("Error occurred while configuring the push notifications ",e)}))}},{key:"_postCommentHook",value:function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=N(e);k||this._subscribeUserToRepliesToComment(i.ID),n.innerHTML="";var r=this.commentsContainer.querySelector(".comments-empty-state");if(r&&r.remove(),"object"===y(i)&&i.hasOwnProperty("ID")){var c=this._getCommentHtmlNode(i,!1);if(!c)return;this.selectedCommentIdForReply&&o?this._appendReplyToProperContainer(c,this.selectedCommentIdForReply):this.commentsRenderContainer.insertBefore(c,this.commentsRenderContainer.firstChild),t.value="",this._expandCommentsContainer(),this._fetchAndUpdateCommentsCount(),this._resetReplyInfo(),k&&this._sendAMPIframeExpandEvent(),a()}else"object"===y(i)&&i.hasOwnProperty("description")?(n.innerHTML='<span class="response-text">'+i.description+"</span>",t.value=""):window.alert("Something went wrong while posting comment! Please try again later.");this.selectedCommentIdForReply=null,this.commentTagLength=0,t.removeAttribute("disabled"),this.sendButton.removeAttribute("disabled");var s=t.parentElement.querySelector(".gif-post-image-container");s&&(s.innerHTML="",d(s,"hidden")),t.dataset.media_url="",u(t,"text-box-radius")}},{key:"_appendReplyToProperContainer",value:function(e,t){if(t&&e){var n=document.getElementById(t);n.getAttribute("reply-to").length<1?n.querySelector(".replies").append(e):n.parentElement.append(e)}}},{key:"_fetchAndUpdateCommentsCount",value:function(){var e=this,t="https://comments-system.sportskeeda.com/comments/count/"+encodeURIComponent(e.config.id)+"/ajax?page_type="+e.config.pageType;A.loggedIn&&(t="https://a-comments.sportskeeda.com/comments/count/"+encodeURIComponent(e.config.id)+"?include_user_pending_comment=true&page_type="+e.config.pageType),o(t,(function(t){var n=N(t);"object"!==y(n)||!n.comments_count&&0!==n.comments_count||e._updateCommentsCount(n.comments_count)}),(function(e){}),{withCredentials:!0})}},{key:"_onOauthCloseClick",value:function(e){d(e.parentNode.parentNode,"hidden")}},{key:"_onPendingBtnClick",value:function(e){var t=e.previousElementSibling||e.parentElement.previousElementSibling;if(t)if(clearTimeout(t.getAttribute("data-timer-id")),t.classList.contains("hidden")){t.classList.remove("hidden");var n=setTimeout((function(){t.classList.add("hidden")}),5e3);t.setAttribute("data-timer-id",n)}else t.classList.add("hidden")}},{key:"_setWindowListeners",value:function(){var e={"reply-to-comment":this._replyToComment.bind(this),"reply-to-comment-img":this._replyToCommentFromImg.bind(this),"delete-option":this._deleteComment.bind(this),"delete-comment-confirm":this._deleteConfirm.bind(this),"delete-comment-cancel":this._deleteCommentCancel.bind(this),"comment-reply-button":this._onReplyButtonClick.bind(this),"edit-option":this._onEditCommentClick.bind(this),"comment-options":this._onCommentOptionsClick.bind(this),"comment-option-single-edit":this._onEditIconClick.bind(this),"comment-option-single-delete":this._onDeleteIconClick.bind(this),"comment-option-single-cancel":this._onCommentOptionCancel.bind(this),"view-more-button":this._expandCommentsContainer.bind(this),"view-more-button-img":this._expandCommentsContainer.bind(this),"login-oauth-close":this._onOauthCloseClick.bind(this),"reply-tag-cancel":this._resetReplyInfo.bind(this),"comments-retry-button":this._onRetryClick.bind(this),"comment-pending-btn":this._onPendingBtnClick.bind(this),"comment-gif":this._openGifBox.bind(this),"remove-gif-image-button":this._removeUnpostedGif.bind(this)};document.addEventListener("click",this._gifBoxListner.bind(this),!1),this.commentsContainer.onclick=function(t){var n=t.target;if("string"==typeof n.className&&n.classList&&!(n.classList.length<1)){if(!n.className.includes("comment-option")){var o,i=f(document.querySelectorAll(".comment-options-box:not(.hidden)"));try{for(i.s();!(o=i.n()).done;)d(o.value,"hidden")}catch(e){i.e(e)}finally{i.f()}}for(var r in e)n.classList.contains(r)&&e.hasOwnProperty(r)&&e[r](t.target)}};var t={"comment-reply-box":this._replyTyped.bind(this)};this.commentsContainer.onkeydown=function(e){var n=e.target;if(n.classList&&!(n.classList.length<1))for(var o in t)n.classList.contains(o)&&t.hasOwnProperty(o)&&t[o](e)}}},{key:"_replyToCommentFromImg",value:function(e){this._replyToComment(e.parentNode)}},{key:"_onEditIconClick",value:function(e){this._onEditCommentClick(e.parentNode)}},{key:"_onDeleteIconClick",value:function(e){this._deleteComment(e.parentNode)}},{key:"_onEditCommentClick",value:function(e){var t=this,n=e.parentNode.parentNode.parentNode.parentNode;t._toggleCommentInfoVisibility(n,!1);var o=n.querySelector(".edit-section");if(o){d(n.querySelector(".comment-options-box"),"hidden"),u(o,"hidden"),o.setAttribute("comment-id",n.attributes["comment-id"].value),o.querySelector(".edit-comment-button").onclick=function(e){t._onEditSubmitClick(e.currentTarget.parentNode.parentNode)};var i=o.querySelector(".edit-comment-text");i.focus(),i.onkeydown=this._onCommentEditKeydown.bind(this);var r=e.parentElement.parentElement.parentElement.firstElementChild.querySelector(".one-comment-media");if(r&&""!==r.src){d(o.querySelector(".edit-comment-text"),"text-box-radius");var a=o.querySelector(".gif-post-image-container-comment-edit");u(a,"hidden");var c=o.querySelector(".gif-post-image");if(c)c.src=r.src;else{var s=document.createElement("div");d(s,"gif-post-image-div");var l=document.createElement("img");d(l,"gif-post-image"),l.src=r.src;var m=document.createElement("button");m.innerHTML="&#10006",d(m,"remove-gif-image-button"),s.appendChild(l),s.appendChild(m),a.appendChild(s)}}o.querySelector(".cancel-edit").onclick=this._cancelCommentEdit.bind(this),t._trackCommentActivityV2("click","edit")}}},{key:"_onCommentEditKeydown",value:function(e){13===e.which&&(e.preventDefault(),this._onEditSubmitClick(e.currentTarget.parentNode))}},{key:"_onEditSubmitClick",value:function(e){if(e){var t=e.querySelector(".edit-comment-text"),n=t.value.trim();if(r=e.querySelector(".gif-post-image"))var o=r.src||t.dataset.media_url;if(void 0!==o)var i=o;else i="";if(!(n.length<1&&""==i)){var r;""==i&&(r=e.parentElement.querySelector(".one-comment-media"))&&r.remove();var a=e.getAttribute("comment-id"),c=e.parentNode.querySelector(".edit-comment-input-response"),l=e.querySelector(".edit-comment-button");s(l,"disabled","disabled"),s(t,"disabled","disabled");var m=this;!function(e,t,n){var o=new XMLHttpRequest;o.withCredentials=!0,o.onreadystatechange=function(){4===o.readyState&&(200===o.status?n(o.responseText):(console.log("Error",o.status,e),n("Server error")))},o.open("PUT",e,!0),o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.send(t)}("https://a-comments.sportskeeda.com/comments/"+encodeURIComponent(a),B({comment:n,id:m.config.id,page_type:m.config.pageType,mediaUrl:i}),(function(n){var o=N(n);"object"===y(o)&&o.hasOwnProperty("ID")?(m._hideEditComment(e,o.comment_text,o.media_url),d(c,"hidden"),t.removeAttribute("disabled"),l.removeAttribute("disabled")):(u(c,"hidden"),c.innerHTML='<span class="response-text">'+(o&&o.description)||!1,e.value="",o.moderation?(window.alert(o.description),e.parentNode.parentNode.remove(),this._fetchAndUpdateCommentsCount()):(t.removeAttribute("disabled"),l.removeAttribute("disabled")))}))}}}},{key:"_cancelCommentEdit",value:function(e){var t=e.currentTarget.parentNode.parentNode;d(t.parentNode.querySelector(".edit-comment-input-response"),"hidden"),this._hideEditComment(t),this._trackCommentActivityV2("click","cancel_edit")}},{key:"_hideEditComment",value:function(e,t,n){var o=e.parentNode.parentNode,i=o.lastElementChild.firstElementChild.lastElementChild.firstElementChild;if(t||n){if(null!=i)var r={linkToProfile:i.attributes.href.value,username:i.innerHTML},a='<a class="author-name" href="'.concat(r.linkToProfile,'"><span class="dont-break">').concat(r.username,"</span></a>");else a="";if(o.querySelector(".one-comment-text").innerHTML=a+t,""!==n){var c=e.parentElement.firstElementChild.querySelector(".one-comment-media");if(c)c.src=n;else{var s=document.createElement("img");s.src=n,d(s,"one-comment-media"),e.parentElement.firstElementChild.querySelector(".one-comment-text").insertAdjacentElement("afterend",s)}}else c&&d(o.querySelector(".one-comment-media"),"hidden");o.querySelector(".edit-comment-text").value=t}d(e,"hidden"),this._toggleCommentInfoVisibility(o,!0)}},{key:"_toggleCommentInfoVisibility",value:function(e,t){var n=e.querySelector(".comment-info"),o=e.querySelector(".controls");t?(u(n,"hidden"),u(o,"hidden")):(d(n,"hidden"),d(o,"hidden"))}},{key:"_onCommentOptionCancel",value:function(e){d(e.parentNode,"hidden")}},{key:"_replyToComment",value:function(e){this._expandCommentsContainer();var t=e.parentNode.parentNode.parentNode,n=t.attributes["comment-id"].value,o=this._findReplyTagInfoUsingCommentId(n);if(A.loggedIn){var i="@".concat(o.name||""," ");this.selectedCommentIdForReply=n,this.commentTagLength=i.length,this.config.popup&&this.replyTagContainer?(this._setReplyTag(i),d(t,"selected")):this._openReplyBox(t,n,i)}else this._redirectToLogin();var r=t.querySelector("div.comment-details > div.reply-section > div.reply-section-container > img#pic-near-reply-box");r&&(r.src=A.profile_pic||T),k&&this._sendAMPIframeExpandEvent(),this._trackCommentActivityV2("click","reply")}},{key:"_setReplyTag",value:function(e){this.replyTagContainer.firstElementChild.innerText="Replying to ".concat(e),u(this.replyTagContainer,"hidden"),this._setCommentBoxSelectionTag(e),this.commentBox.focus()}},{key:"_resetReplyInfo",value:function(){this.replyTagContainer&&(d(this.replyTagContainer,"hidden"),u(this.commentsContainer.querySelector(".one-comment.selected"),"selected"),this._setCommentBoxSelectionTag(""))}},{key:"_setCommentBoxSelectionTag",value:function(e){this.commentBox.value=e,this.commentBox.setSelectionRange(this.commentTagLength,this.commentTagLength)}},{key:"_scrollElementToAboveStickyFooter",value:function(e){if(!k){var t=e.getBoundingClientRect();if(!this._elementInViewPort(t)){var n=t.height;window.scrollTo({top:window.scrollY+n,behavior:"smooth"})}}}},{key:"_openReplyBox",value:function(e,t,n){var o=e.getElementsByClassName("textarea-"+t);if(o.length<1){var i=e.getElementsByClassName("reply-section");if(i&&i[0]){var r=i[0];r.innerHTML="",r.appendChild(this._getReplyBoxNode(t,n)),r.firstElementChild.firstElementChild.focus()}}else u(o[0].parentNode,"hidden"),o[0].focus()}},{key:"_onCommentOptionsClick",value:function(e){var t,n=f(this.commentsContainer.querySelectorAll(".comment-options-box:not(.hidden)"));try{for(n.s();!(t=n.n()).done;)d(t.value,"hidden")}catch(e){n.e(e)}finally{n.f()}u(e.parentNode.parentNode.querySelector(".comment-options-box"),"hidden")}},{key:"_onReplyButtonClick",value:function(e){var t=e.getAttribute("target-reply"),n=document.querySelector(".".concat(t));n&&this._sendReply(n)}},{key:"_replyTyped",value:function(e){13===e.which&&(e.preventDefault(),this._sendReply(e.target))}},{key:"_sendReply",value:function(e){var t=e.getAttribute("parent-comment-id"),n=document.getElementById(t).querySelector(".reply-section");this._postComment(e,n,!0)}},{key:"_getReplyBoxNode",value:function(e,t){var n=document.getElementById("reply-input-template").content.cloneNode(!0),o=n.firstElementChild;o.setAttribute("parent-comment-id",e);var i=n.querySelector(".comment-reply-box"),r=this;if(i){i.value=t;var a=t.length;i.setSelectionRange(a,a),i.addEventListener("keydown",(function(e){r._onReplyInputKeyDown(e,this,a)})),i.setAttribute("parent-comment-id",e),d(i,"textarea-"+e)}var c=n.querySelector(".cancel-reply");return c&&(c.onclick=function(){d(o,"hidden"),r.commentTagLength=0,this._trackCommentActivityV2("click","cancel_reply")}),s(n.querySelector(".comment-reply-button"),"target-reply","textarea-".concat(e)),n}},{key:"_onReplyInputKeyDown",value:function(e,t,n){if(n<1)return!0;var o=e.which;if(8==o&&t.selectionStart<t.selectionEnd&&t.selectionStart>=n)return!0;(8==o&&e.metaKey||8==o&&t.selectionStart<=n||46==o&&t.selectionStart<=n||t.selectionStart<n)&&e.preventDefault()}},{key:"_deleteComment",value:function(e){var t=e.parentNode.querySelector(".delete-action-modal");if(t&&(t.style.display="flex",k)){var n=e.getBoundingClientRect().top,o=t.firstElementChild.offsetHeight;n+o>document.body.scrollHeight?t.firstElementChild.style.top=n-o+"px":t.firstElementChild.style.top=n+"px"}}},{key:"_deleteConfirm",value:function(e){var t=e.attributes["comment-id"].value,n=document.querySelector('.one-comment[comment-id="'+t+'"]');e.parentNode.parentNode.parentNode.style.display="none",this._commentTransparent(n),r("https://gotham.sportskeeda.com/comments/delete/"+t,B({page_type:this.config.pageType}),this._deleteCommentHook.bind(this))}},{key:"_commentTransparent",value:function(e){e.style.opacity=.6}},{key:"_deleteCommentHook",value:function(e){var t=N(e);"object"===y(t)&&t.hasOwnProperty("comment_id")?(setTimeout(this._fetchAndUpdateCommentsCount.bind(this),600),this._commentDisappear(t.comment_id),this._expandCommentsContainer()):window.alert("Something went wrong while deleting comment! Please try again later.")}},{key:"_commentDisappear",value:function(e){if("false"!==e){for(var t=document.querySelector('.one-comment[comment-id="'+e+'"]'),n=this._getElementToDelete(e),o=0;o<n.length;o++)this._sliceOutDiv(n[o]);for(this._sliceOutDiv(t),o=0;o<n.length;o++)this._sliceOutDiv(n[o]);k&&this._sendAMPIframeExpandEvent()}}},{key:"_getElementToDelete",value:function(e){for(var t=document.querySelectorAll('.one-comment[reply-to="'+e+'"]'),n=Array.from(t),o=0;o<t.length;o++)n=n.concat(this._getElementToDelete(t[o].getAttribute("comment-id")));return n}},{key:"_sliceOutDiv",value:function(e){e.remove()}},{key:"_deleteCommentCancel",value:function(e){var t=e.parentNode.parentNode.parentNode;t&&(t.style.display="none",d(t.parentNode,"hidden"))}},{key:"_decodeHTMLEntities",value:function(e){return this.textAreaForDecode.innerHTML=e,this.textAreaForDecode.value}},{key:"_elementInViewPort",value:function(e){return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}},{key:"_trackCommentActivityV2",value:function(e,t){gtag&&gtag("event",e,{event_category:this._getEventCategoryForCommentActivityV2(),event_label:t})}},{key:"_findReplyTagInfoUsingCommentId",value:function(e){if(!e)return{};var t=document.getElementById(e).querySelector(".comment-info .name");return t?{name:t.innerText,link:t.innerText}:{}}},{key:"_getEventCategoryForCommentActivityV2",value:function(){var e,t=A.loggedIn?"Comments":"Comments_Guest";return this.config.pageType&&"post"!==this.config.pageType&&(t="".concat((e=this.config.pageType,e?e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})):""),"_").concat(t)),this.config.gaCategory&&(t="".concat(this.config.gaCategory,"_").concat(t)),t}},{key:"_expandCommentsContainer",value:function(){this.config.popup||(this.commentsRenderContainer.style.height="auto",d(this.viewMoreContainer,"hidden"))}},{key:"_gifBoxListner",value:function(e){e.target.closest(".gif-box")||null!=e.target.closest(".comment-gif")||null!=e.target.closest(".comment-gif-reply")||null!=e.target.closest(".comment-gif-edit")||(d(document.querySelector(".gif-box"),"hidden"),d(document.querySelector(".gif-box-overlay"),"hidden"))}},{key:"_openGifBox",value:function(e){if(A.loggedIn){var t=e.parentElement;if(this._gifInitiator=t,t.querySelector(".tooltiptext")){var n=t.querySelector(".tooltiptext");n.style.visibility="visible",setTimeout((function(){n.style.visibility="hidden"}),3e3)}else{if(o=document.querySelector(".gif-box"))u(document.querySelector(".gif-box-overlay"),"hidden"),u(document.querySelector(".gif-box"),"hidden");else{var o=document.getElementById("gif-box-template").content.cloneNode(!0).firstElementChild;document.body.appendChild(o),d(o,"gif-fixed");var i,r=document.createElement("div");d(r,"gif-box-overlay"),document.body.appendChild(r),(i=o.querySelector(".gif-search-text")).addEventListener("keydown",function(e){this._triggerDebouncedGifSearch(e)}.bind(this))}(i=o.querySelector(".gif-search-text")).focus(),i.value="",this._loadTrendingGif(o,t)}var a=escapeString(document.title),c=window.location.href,s=this.config.articleLink.split("/")[3];gtag("event","Clicks_GIF",{page_title:a,page_url:c,category:s})}else this._redirectToLogin()}},{key:"_displayGif",value:function(e,t){var n=N(t);if(n.length>0){var o=document.querySelector(".gif-image-container"),i=document.createElement("img");d(i,"gif-image"),o.innerHTML="";var r,a=f(n);try{for(a.s();!(r=a.n()).done;){var c=r.value,s=i.cloneNode(!0);s.setAttribute("src",c),o.appendChild(s),s.addEventListener("click",function(e,t){var n=e.querySelector(".post-comment-box")||e.querySelector(".comment-reply-box")||e.querySelector(".edit-comment-text");n.dataset.media_url=t.target.src;var o=e.querySelector(".gif-post-image-container")||e.querySelector(".gif-post-image-container-reply")||e.querySelector(".gif-post-image-container-comment-edit");if(i=e.querySelector(".gif-post-image"))u(o,"hidden"),i.src=t.target.src;else{var i,r=document.createElement("div");d(r,"gif-post-image-div"),d(i=document.createElement("img"),"gif-post-image"),i.src=t.target.src;var a=document.createElement("button");a.innerHTML="&#10006",d(a,"remove-gif-image-button"),r.appendChild(i),r.appendChild(a),u(o,"hidden"),o.appendChild(r)}d(n,"text-box-radius"),this._closeGifBox()}.bind(this,e))}}catch(e){a.e(e)}finally{a.f()}}}},{key:"_removeUnpostedGif",value:function(e){d(e.parentElement.parentElement,"hidden");var t=e.parentElement.parentElement.parentElement;t.querySelector(".gif-post-image-container-comment-edit")&&(t.querySelector(".gif-post-image-container-comment-edit").innerHTML=""),t.querySelector(".gif-post-image-container-reply")&&(t.querySelector(".gif-post-image-container-reply").innerHTML=""),t.querySelector(".gif-post-image-container")&&(t.querySelector(".gif-post-image-container").innerHTML=""),u(t.querySelector(".text-box-radius"),"text-box-radius");var n=t.getElementsByTagName("textArea")[0];n&&(n.dataset.media_url="")}},{key:"_makeCallToTenorAPI",value:function(e,t,n){var i="/third-party/tenor/";if(1==e&&null==n)var r="https://gotham.sportskeeda.com"+i+"search/trending";0==e&&void 0!==n&&(r="https://gotham.sportskeeda.com"+i+"search?query="+n),0==e&&null==n&&(r="https://gotham.sportskeeda.com"+i+"trending-tags"),e||null!=n?o(r,this._displayGif.bind(this,t),(function(){}),{withCredentials:!0}):e||o(r,this._createGifTags.bind(this,t),(function(){}),{withCredentials:!0})}},{key:"_loadTrendingGif",value:function(e,t){var n,o=f(e.querySelectorAll(".gif-tags"));try{for(o.s();!(n=o.n()).done;)n.value.remove()}catch(e){o.e(e)}finally{o.f()}this._makeCallToTenorAPI(!0,t),this._makeCallToTenorAPI(!1,t)}},{key:"_createGifTags",value:function(e,t){e=e;var n=N(t).results,o=document.querySelector(".gif-display-tags");n.unshift("Trending");var i,r=f(n);try{for(r.s();!(i=r.n()).done;){var a=i.value,c=document.createElement("div");"Trending"==a?(c.innerText=a,d(c,"gif-tag-focus")):c.innerText="#"+a,d(c,"gif-tags"),o.appendChild(c),c.addEventListener("click",this._gifTagsListner.bind(this,e))}}catch(e){r.e(e)}finally{r.f()}initGifTagScroll()}},{key:"_gifTagsListner",value:function(e,t){u(document.querySelector(".gif-tags.gif-tag-focus"),"gif-tag-focus"),d(t.target,"gif-tag-focus");var n=t.target.parentElement.parentElement.parentElement.firstElementChild.firstElementChild;if("Trending"==t.target.innerText)n.value="Trending",this._makeCallToTenorAPI(!0,e);else{var o=t.target.innerText.substring(1);n.value=o,this._makeCallToTenorAPI(!1,e,o)}}},{key:"_closeGifBox",value:function(e){d(document.querySelector(".gif-box"),"hidden"),d(document.querySelector(".gif-box-overlay"),"hidden")}},{key:"_triggerDebouncedGifSearch",value:function(e){u(e.target.parentElement.parentElement.querySelector(".gif-tag-focus"),"gif-tag-focus"),this._searchGif(e)}}])&&_(t.prototype,n),i&&_(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=P}]).default}));