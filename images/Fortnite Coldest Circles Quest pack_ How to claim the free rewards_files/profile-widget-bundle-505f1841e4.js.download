function initializeLoginWidget(){var e,t,i,n=document.getElementById("keeda-profile-container");n&&(t=window.location.search.substr(1).split("&"),setTimeout(function(){if(document.location.hostname.includes("opera")){hideProfileCTAs(),hideSignupAndAppDownloadCTAs(),hideCommentsInputFields();for(var e=document.querySelectorAll("a"),t=0;t<e.length;t++){var i=e[t];i.href&&i.href.includes("www.sportskeeda.com")&&(i.href=i.href.replace("//www.sportskeeda.com","//opera.sportskeeda.com"))}}},0),(e=hasKey1Value(t,"phonepe"))&&hideProfileCTAs(),(t=hasKey1Value(t,"phonepe-switch"))&&hideProfileCTAs(),""!==userSlug&&""!==userPicture?(gtag("set",{dimension3:"true"}),fillProfileDropdown(n),IS_MOBILE&&(i=document.getElementById("keeda-profile-container-secondary"))&&fillProfileDropdown(i)):(gtag("set",{dimension3:"false"}),e||t||(fillLogoutCTA(n),IS_MOBILE&&(i=document.getElementById("keeda-profile-container-secondary"))&&fillLogoutCTA(i))),filterRoleBasedMenus())}function fillLogoutCTA(e){var t;e&&(t="/login?after-login="+window.location.origin+window.location.pathname+window.location.search,IS_MOBILE&&"keeda-profile-container-secondary"!=e.getAttribute("id")&&(t+="&login-origin=hamburger_icon"),e.style.backgroundImage="",e.style.background="transparent",removeClass(e.querySelector(".logged-out"),"hidden"),(e=e.querySelector(".login-cta"))&&(e.href=t))}function fillProfileDropdown(t){var e,i,n;t&&(e=decodeURIComponent(userPicture).replace("http://","https://"),n=getCookie(COOKIE_USER_SLUG),e=e.replace("//keeda.sportskeeda.com","//keedas.sportskeeda.com"),i=FRAMEWORK_URL+"/user/profile/"+n,pureJSAjaxGetWithCredentialsFlag(i,function(e){(e=JSON.parse(e))&&e.length&&0<e[0].profile_status.length?$("#user-status").innerText=e[0].profile_status:$("#user-status").innerText="#Update your status"},function(e){e&&console.error(e)},!0),removeClass(t.querySelector(".toggle"),"hidden"),IS_MOBILE?(t.querySelector(".greeting")&&(t.querySelector(".greeting").innerText="Hi, "+getFirstName().trim()),t.querySelector(".toggle").addEventListener("click",function(e){(e.target.classList.contains("toggle")||e.target.classList.contains("greeting")||e.target.classList.contains("three-dots")||e.target.parentNode.classList.contains("three-dots"))&&(removeClass($("#keeda-side-menu"),"open"),removeClass($(".mobile-overlay"),"active"),addClass($(".mobile-overlay-profile-menu"),"active"),removeClass($("#profile-menu-popup"),"hidden"))})):t.querySelector(".toggle").addEventListener("click",function(e){e.target.classList.contains("toggle")&&(t.querySelector(".popup").classList.toggle("hidden"),t.querySelector(".toggle").classList.toggle("active"),gtag("event","ProfileMenuClicked"))}),i=!0,e==DEFAULT_PROFILE_PIC&&(i=!1,e=STATIC_URL+"/skm/assets/default-profile-pic.svg",uploadImageIcon=STATIC_URL+"/skm/assets/profile-pic-upload.svg",t.querySelector("#profile-pic").style.borderRadius="unset"),t.querySelector(".toggle").style.backgroundImage="url("+e+")",t.querySelector(".toggle").style.backgroundSize="cover",t.querySelector(".toggle").style.position="relative",$("#user-name").innerText=getName(),n="/profile/"+n,REQUEST_FROM_WIKI_DOMAIN&&(n=SK_URL+n),$("#profile-link").setAttribute("href",n),i?$("#profile-pic").setAttribute("src",e):$("#profile-pic").setAttribute("src",uploadImageIcon))}function closeProfileMenu(){removeClass($("body"),"sidebarActive"),removeClass($(".mobile-overlay-profile-menu"),"active"),addClass($("#profile-menu-popup"),"hidden")}function hasKey1Value(e,t){if(!t||!Array.isArray(e))return!1;for(var i=0;i<e.length;i++){var n=e[i].split("=");if("key1"===n[0]&&n[1]===t)return!0}return!1}function filterRoleBasedMenus(){""!==userSlug&&""!==userPicture?checkUserCapabilities().then(hasUserAcceptedTerms).catch(function(e){createProfileActions(getProfileActions());var t=$(".editor-filter-menu .earnings"),i=$(".editor-filter-menu .payment"),n=$(".editor-filter-menu .payment-history"),o=$(".editor-filter-menu .content-queue"),a=$(".editor-filter-menu .video-queue"),r=$(".editor-filter-menu .social-feed-queue"),d=$(".editor-filter-menu .menu-edit");e.indexOf("noRevShare")<0&&t&&t.classList.remove("hidden"),e.indexOf("notSuperEditor")<0||e.indexOf("notOnlineEditor")<0?(o&&o.classList.remove("hidden"),a&&a.classList.remove("hidden"),r&&r.classList.remove("hidden")):(removeDomElement($("#article-queue-link")),removeDomElement($("#video-queue-link")),removeDomElement($("#social-feed-queue-link"))),-1<e.indexOf("notTagPageEditor")&&e.indexOf("superAdmin")<0&&removeDomElement($("#taxonomy-queue-link")),e.indexOf("notMenuEditor")<0?d&&d.classList.remove("hidden"):removeDomElement($("#edit-site-menu")),-1<e.indexOf("notOnlineEditor")&&-1<e.indexOf("notSuperEditor")&&e.indexOf("superAdmin")<0&&removeDomElement($("#edit-stats")),e.indexOf("canPostContent")<0?removeDomElement($(".write-an-article")):$(".write-an-article").style.display="block",-1<e.indexOf("notNewAffilate")&&removeDomElement($("#new-affiliate-link")),-1<e.indexOf("notTagPages")&&removeDomElement($("#tagPages-link")),-1<e.indexOf("notTaxonomy")&&e.indexOf("superAdmin")<0&&(removeDomElement($("#taxonomy-link")),removeDomElement($("#wiki-submissions-link")),removeDomElement($("#bottom-tagline-dashboard-link")),removeDomElement($("#footer-dashboard-link")),removeDomElement($("#trending-dashboard-link")),-1<window.location.href.indexOf("/taxonomy")&&(e.indexOf("notTagPages")<0&&0<window.location.href.indexOf("post_tag")?disableSubPagesBasedOnPageAccess(["Tags"]):window.location.href="/creator")),e.indexOf("appNotificationAdmin")<0&&(removeDomElement($("#notification-center-link")),-1<window.location.href.indexOf("/notification-center")&&(window.location.href="/creator")),e.indexOf("superAdmin")<0&&(-1<e.indexOf("notMenuEditor")&&removeDomElement($("#mappings-dashboard-link")),$("#create-new-category")&&($("#create-new-category").style.display="none",$("#create-new-section").style.display="none"),(-1<window.location.href.indexOf("/category/create")||-1<window.location.href.indexOf("/section/create"))&&(window.location.href="/creator"),removeDomElement($("#feed-center-link")),-1<window.location.href.indexOf("/feed-center")&&(window.location.href="/creator"),removeDomElement($("#ad-manager-link")),-1<window.location.href.indexOf("/ad-manager")&&(window.location.href="/creator"),removeDomElement($("#manage-page-link")),-1<window.location.href.indexOf("/page/manage")&&(window.location.href="/creator"),removeDomElement($("#redirection-admin")),-1<window.location.href.indexOf("/redirect-urls")&&(window.location.href="/creator"),removeDomElement($("#timeless-posts-manager-link")),-1<window.location.href.indexOf("/admin/timeless-posts-dashboard")&&(window.location.href="/creator")),(e.indexOf("noRevShare")<0||e.indexOf("notNewAffilate")<0)&&i&&i.classList.remove("hidden"),-1<e.indexOf("noRevShare")&&($(".payment-options-description")&&($(".payment-options-description").innerHTML="You are not eligible for payments."),n&&n.classList.add("hidden")),-1<e.indexOf("superAdmin")&&n&&n.classList.remove("hidden"),-1<e.indexOf("revShare")&&n&&n.classList.remove("hidden")}).finally(function(){"function"==typeof initCommentNotifications&&(initCommentNotifications(capabilitiesArray),0==$(".editing-actions ul").childElementCount&&addClass($(".editing-actions"),"hidden"),0==$(".seo-actions ul").childElementCount&&addClass($(".seo-actions"),"hidden"),0==$(".community-actions ul").childElementCount&&addClass($(".community-actions"),"hidden"))}):$(".write-an-article")&&$(".write-an-article").setAttribute("onclick","window.location=('/creator/getting-started')")}function hideProfileCTAs(e){var t=$("#keeda-profile-container-secondary");t&&t.classList.add("hidden")}function hideCommentsInputFields(){$(".comments-input-holder")&&$(".comments-input-holder").classList.add("hidden"),$("#comments-count-span")&&$("#comments-count-span").classList.add("hidden")}function hideSignupAndAppDownloadCTAs(){var e=$("#keeda-profile-container .logged-out"),t=$(".sidebar-app-download"),i=$(".btn-follow"),n=$("#login"),o=$(".btn-green-logged-out"),a=$(".registration-form");e&&e.classList.add("hidden"),t&&t.classList.add("hidden"),i&&i.classList.add("hidden"),n&&n.classList.add("hidden"),o&&o.classList.add("hidden"),a&&a.classList.add("hidden")}function getProfileActions(){return{editing:{actions:[{url:SK_URL+"/creator/content-dashboard",title:"Story Queue",id:"article-queue-link"},{url:SK_URL+"/creator/video-queue",title:"Video Queue",id:"video-queue-link"},{url:SK_URL+"/creator/taxonomy-queue",title:"Taxonomy Queue",id:"taxonomy-queue-link"},{url:SK_URL+"/editor/editing-stats-dashboard",title:"Editing Stats",id:"edit-stats"},{url:SK_URL+"/creator",title:"Writer Home",id:"writers-link"}],meta:{name:"Editing",image:{url:STATIC_URL+"/skm/assets/editing.svg",width:24,height:24},class:"editing-actions"}},seo:{actions:[{url:SK_URL+"/admin/redirect-urls",title:"Redirection Admin",id:"redirection-admin"},{url:SK_URL+"/taxonomy/gaming-wiki-edits",title:"Wiki Edits",id:"wiki-submissions-link"},{url:SK_URL+"/taxonomy",title:"Taxonomy Home",id:"taxonomy-link"},{url:SK_URL+"/creator/menu-edit",title:"Edit Site Menu",id:"edit-site-menu"},{url:SK_URL+"/admin/mapping-dashboard",title:"Mapping Dashboard",id:"mappings-dashboard-link"},{url:SK_URL+"/taxonomy/post_tag",title:"Tag Pages",id:"tagPages-link"},{url:SK_URL+"/admin/footer-dashboard",title:"Footer Dashboard",id:"footer-dashboard-link"},{url:SK_URL+"/admin/trending-news",title:"Trending Dashboard",id:"trending-dashboard-link"}],meta:{name:"SEO",image:{url:STATIC_URL+"/skm/assets/seo.svg",width:24,height:24},class:"seo-actions"}},community:{actions:[{url:SK_URL+"/creator/social-queue",title:"Social Feed Queue",id:"social-feed-queue-link"},{url:SK_URL+"/feed-center",title:"Feed Center",id:"feed-center-link"},{url:SK_URL+"/admin/notification-center",title:"Notification Center",id:"notification-center-link"},{url:SK_URL+"/affiliate-v2",title:"Affiliate Home",id:"new-affiliate-link"},{url:SK_URL+"/page/manage",title:"Manage Pages",id:"manage-page-link"},{url:SK_URL+"/admin/bottom-tagline-dashboard",title:"Bottom Tagline Dash",id:"bottom-tagline-dashboard-link"},{url:SK_URL+"/admin/timeless-posts-dashboard",title:"Timeless Stories",id:"timeless-posts-manager-link"}],meta:{name:"Community",image:{url:STATIC_URL+"/skm/assets/community.svg",width:24,height:24},class:"community-actions"}}}}function createProfileActions(e){var t=$(".profile-actions");t&&(e.editing&&t.append(getProfileActionElement(e.editing)),e.seo&&t.append(getProfileActionElement(e.seo)),e.community&&t.append(getProfileActionElement(e.community)))}function getProfileActionElement(e){var t=document.createElement("div"),i=(t.classList.add(e.meta.class),document.createElement("div")),n=document.createElement("ul"),o=document.createElement("img"),a=(o.classList.add("action-img"),o.setAttribute("src",e.meta.image.url),o.setAttribute("width",e.meta.image.width),o.setAttribute("height",e.meta.image.height),o.setAttribute("loading","lazy"),o.setAttribute("alt",e.meta.name+" icon"),document.createElement("span"));return a.classList.add("action-text"),a.innerText=e.meta.name,i.appendChild(o),i.appendChild(a),e.actions.forEach(function(e){n.append(createProfileActionLi(e))}),t.append(i,n),t}function createProfileActionLi(e){var t=document.createElement("li"),i=(t.setAttribute("id",e.id),document.createElement("a"));return i.href=e.url,i.innerText=e.title,t.append(i),t}"LoginPage"!=pageType&&"WrestlingAwardsPage"!=pageType&&(window.addEventListener("DOMContentLoaded",function(){initializeLoginWidget()}),domContentLoaded&&initializeLoginWidget());